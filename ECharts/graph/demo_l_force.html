<html>
<head>
    <title></title>
    <style>
       
    </style>
</head>
<body>
    <div id="main" style="width: 600px;height:400px;"></div>
</body>
<script src="../../vendor/echarts.4.0.2.js"></script>
<script>
    var myChart = echarts.init(document.getElementById('main'));

    let obj = {
        "categories": [
            {
                "name": "aa",
            },
            {
                "name": "bb"
            },
            {
                "name": "cc"
            },
        ],
        "nodes": [
            {
                "id": 0,
                "name": "a1",
                "value": 30,
                "category": 0,
                "re": "xsdfs"
            },
            {
                "id": 1,
                "name": "a2",
                "value": 10,
                "category": 0,
           
            },
            {
                "id": 2,
                "name": "b1",
                "value":15,
                "category": 1,
               
            },
            {
                "id": 3,
                "name": "b2",
                "value":10,
                "category": 1,
             
            },
            {
                "id": 4,
                "name": "c1",
                "value":22,
                "category": 2,
               
            },
        ],
        links: [
            {
                "source": 0,
                "target": 1,
                "x": "xsdfs"
            },
            {
                "source": 0,
                "target": 2,
                "x": "xxx"
            },
            {
                "source": 0,
                "target": 3,
                "x": "aaa"
            },
            {
                "source": 0,
                "target": 4,
                "x": "bbbb"
            },
            {
                "source": 1,
                "target": 2,
                "x": "ccc"
            },

        ]
    }
    option = {
        tooltip: {
            formatter:(a)=>{
                if(a.data.x) {
                    return a.data.x;
                } else {
                    return a.name
                }
                
            }
        },
        series: [{
            type: 'graph',
            layout: 'force',
            animation: false,
            label: {
                normal: {
                    position: 'right',
                    formatter: '{b}'
                }
            },
            force: {
                edgeLength: 80,
                repulsion: 100,
                layoutAnimation: false,
            },
            edgeLabel: {
                normal: {
                    //show: true,
                    // position: 'middle',
                    // formatter: function(a){
                    //     return a.data.x;
                    // }
                }
            },
            data: obj.nodes,
            categories: obj.categories,       
            edges: obj.links,
            roam: true,
            draggable: false,
            symbolSize:(value, p)=>{return value;},
            lineStyle: {
                normal: {
                    color: 'source',
                    curveness: 0.3
                }
            }
        }]
    };

    myChart.setOption(option);

</script>

</html>